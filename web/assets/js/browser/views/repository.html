<div class="col-lg-12" style="padding-bottom: 40px;" ng-controller="mbRepositoryCtrl">
    <div class="col-sm-2" ng-repeat="(key, workspace) in workspaces | mbJaroWinkler:search" draggable="{{ repository.supports('workspace.delete') }}" id="{{ workspace.getSlug() }}">
        <div class="panel panel-box" ng-click="openWorkspace(workspace)">
            <div class="panel-heading">
                {{ 'WORKSPACE_PANEL_BOX_TITLE' | translate }}
            </div>
            <div class="panel-body">
                <p class="lead text-center">
                    {{ workspace.getName() }}
                </p>
            </div>
        </div>
    </div>
    <div class="col-sm-2" ng-if="repository.supports('workspace.create')">
        <div class="panel panel-box new">
            <div class="panel-body">
                <p class="lead text-center" ng-click="showCreateForm()" ng-hide="displayCreateForm">
                    {{ 'WORKSPACE_CREATE_PROMPT' | translate }}
                </p>
                <form ng-submit="createWorkspace(workspaceName)" ng-if="displayCreateForm">
                    <p class="text-center">
                        <input type="text" ng-model="workspaceName" mb-focus-me="displayCreateForm" class="form-control workspace-input" placeholder="{{ 'WORKSPACE_CREATE_NAME_PROMPT' | translate }}" ui-keydown="{esc: 'hideCreateForm()'}"/>
                    </p>
                </form>
            </div>
        </div>
    </div>
    <mb-dropper drop="deleteWorkspace" ng-if="repository.supports('workspace.delete')"></mb-dropper>
</div>
