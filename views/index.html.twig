{% extends 'layout-onlycontent.html.twig' %}

{% block navbar %}
<ul class="nav navbar-nav">
  <li>
    <a href="{{ path('browser.repositories') }}" class="dropdown-toggle" data-toggle="dropdown">
      Repositories
    </a>
    <ul class="dropdown-menu large">
    	<li role="presentation" class="dropdown-header">All the configured repositories</li>
    	{% for _repository in repositories|sort %}
    	<li>
    		<a href="{{ path('browser.workspaces', { 'repository': _repository.name } ) }}" >		
				<span class="glyphicon glyphicon-th"></span> {{ _repository.name }}
			</a>
		</li>
		{% endfor %}
    </ul>
  </li>
</ul>
{% endblock navbar %}

{% block content %}
		<div class="col-lg-12">
		{% for repository in repositories %}
			<div class="col-sm-3">
				<div class="panel panel-info">
				  <div class="panel-heading">
				  	<span class="glyphicon glyphicon-th"></span> Repository
				  </div>
				  <div class="panel-body text-center">
				    <p class="lead">
				    	{{ repository.name }}
				    </p>
				    <p>{{ repository.factoryName }}</p>
				  </div>
				  <div class="panel-footer">
				  	<a href="{{ path('browser.workspaces', { 'repository': repository.name } ) }}" class="btn btn-primary btn-block">  
				  		Open
				  	</a>
				  </div>
				</div>
			</div>
		{% endfor %}
		<div class="col-sm-3">
				<div class="panel panel-default" id="new-repository-panel">
				  <div class="panel-heading">
				  	<span class="glyphicon glyphicon-th"></span> Repository
				  </div>
				  <div class="panel-body text-center">
				    <p class="lead">
				    	Use config dir to add new repository
				    </p>
				  </div>
				  <div class="panel-footer">
				  	<a href="#" class="btn btn-default btn-block disabled">  
				  		<span class="glyphicon glyphicon-plus"></span> Create
				  	</a>
				  </div>
				</div>
			</div>
		</div>
{% endblock content %}
